--- net/minecraft/world/level/block/VineBlock.java
+++ net/minecraft/world/level/block/VineBlock.java
@@ -195,11 +195,11 @@
                   var2.setBlock(var3, (BlockState)var1.setValue(getPropertyForFace(var5), true), 2);
                }
 
             }
          } else {
-            if (var5 == Direction.UP && var3.getY() < 255) {
+            if (var5 == Direction.UP && var3.getY() < var2.getMaxBuildHeight() - 1) {
                if (this.canSupportAtFace(var2, var3, var5)) {
                   var2.setBlock(var3, (BlockState)var1.setValue(UP, true), 2);
                   return;
                }
 
@@ -227,11 +227,11 @@
                      var16 = (BlockState)var16.setValue(getPropertyForFace(var18), false);
                   }
                }
             }
 
-            if (var3.getY() > 0) {
+            if (var3.getY() > var2.getMinBuildHeight()) {
                var7 = var3.below();
                var8 = var2.getBlockState(var7);
                if (var8.isAir() || var8.is(this)) {
                   BlockState var9 = var8.isAir() ? this.defaultBlockState() : var8;
                   BlockState var10 = this.copyRandomFaces(var1, var9, var4);
