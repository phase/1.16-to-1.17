--- net/minecraft/util/profiling/FilledProfileResults.java
+++ net/minecraft/util/profiling/FilledProfileResults.java
@@ -3,15 +3,15 @@
 import com.google.common.base.Splitter;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import it.unimi.dsi.fastutil.objects.Object2LongMap;
 import it.unimi.dsi.fastutil.objects.Object2LongMaps;
-import java.io.File;
-import java.io.FileOutputStream;
-import java.io.OutputStreamWriter;
+import java.io.BufferedWriter;
 import java.io.Writer;
 import java.nio.charset.StandardCharsets;
+import java.nio.file.Files;
+import java.nio.file.Path;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.Comparator;
 import java.util.Iterator;
 import java.util.List;
@@ -154,17 +154,17 @@
 
    public int getEndTimeTicks() {
       return this.endTimeTicks;
    }
 
-   public boolean saveResults(File var1) {
-      var1.getParentFile().mkdirs();
-      OutputStreamWriter var2 = null;
+   public boolean saveResults(Path var1) {
+      BufferedWriter var2 = null;
 
       boolean var4;
       try {
-         var2 = new OutputStreamWriter(new FileOutputStream(var1), StandardCharsets.UTF_8);
+         Files.createDirectories(var1.getParent());
+         var2 = Files.newBufferedWriter(var1, StandardCharsets.UTF_8);
          var2.write(this.getProfilerResults(this.getNanoDuration(), this.getTickDuration()));
          boolean var3 = true;
          return var3;
       } catch (Throwable var8) {
          LOGGER.error((String)"Could not save profiler results to {}", (Object)var1, (Object)var8);
@@ -197,10 +197,16 @@
       }
 
       return var4.toString();
    }
 
+   public String getProfilerResults() {
+      StringBuilder var1 = new StringBuilder();
+      this.appendProfilerResults(0, "root", var1);
+      return var1.toString();
+   }
+
    private static StringBuilder indentLine(StringBuilder var0, int var1) {
       var0.append(String.format("[%02d] ", var1));
 
       for(int var2 = 0; var2 < var1; ++var2) {
          var0.append("|   ");
